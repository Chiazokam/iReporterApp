'use strict';var cov_1wrtmob71s=function(){var path="C:\\Users\\CyberCloned\\Documents\\Zokky\\Andela\\iReporterApp\\src\\controllers\\ireportControl.js",hash="d7cafccffb31b82164ced4e94a31be56e0ae86fb",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\CyberCloned\\Documents\\Zokky\\Andela\\iReporterApp\\src\\controllers\\ireportControl.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:20},end:{line:7,column:53}},"2":{start:{line:9,column:21},end:{line:9,column:58}},"3":{start:{line:11,column:39},end:{line:11,column:93}},"4":{start:{line:13,column:19},end:{line:13,column:47}},"5":{start:{line:15,column:24},end:{line:113,column:1}},"6":{start:{line:17,column:4},end:{line:17,column:81}},"7":{start:{line:20,column:4},end:{line:20,column:81}},"8":{start:{line:23,column:4},end:{line:23,column:69}},"9":{start:{line:26,column:4},end:{line:26,column:74}},"10":{start:{line:29,column:32},end:{line:29,column:74}},"11":{start:{line:30,column:22},end:{line:30,column:55}},"12":{start:{line:32,column:4},end:{line:36,column:5}},"13":{start:{line:33,column:6},end:{line:33,column:58}},"14":{start:{line:35,column:6},end:{line:35,column:52}},"15":{start:{line:39,column:33},end:{line:39,column:80}},"16":{start:{line:40,column:22},end:{line:40,column:56}},"17":{start:{line:42,column:4},end:{line:46,column:5}},"18":{start:{line:43,column:6},end:{line:43,column:58}},"19":{start:{line:45,column:6},end:{line:45,column:52}},"20":{start:{line:49,column:33},end:{line:49,column:75}},"21":{start:{line:50,column:22},end:{line:50,column:56}},"22":{start:{line:52,column:4},end:{line:55,column:5}},"23":{start:{line:53,column:6},end:{line:53,column:73}},"24":{start:{line:54,column:6},end:{line:54,column:115}},"25":{start:{line:56,column:4},end:{line:56,column:63}},"26":{start:{line:59,column:33},end:{line:59,column:75}},"27":{start:{line:60,column:22},end:{line:60,column:56}},"28":{start:{line:62,column:4},end:{line:65,column:5}},"29":{start:{line:63,column:6},end:{line:63,column:75}},"30":{start:{line:64,column:6},end:{line:64,column:116}},"31":{start:{line:66,column:4},end:{line:66,column:63}},"32":{start:{line:72,column:33},end:{line:72,column:80}},"33":{start:{line:73,column:22},end:{line:73,column:56}},"34":{start:{line:75,column:4},end:{line:78,column:5}},"35":{start:{line:76,column:6},end:{line:76,column:72}},"36":{start:{line:77,column:6},end:{line:77,column:115}},"37":{start:{line:79,column:4},end:{line:79,column:63}},"38":{start:{line:82,column:33},end:{line:82,column:80}},"39":{start:{line:83,column:22},end:{line:83,column:56}},"40":{start:{line:85,column:4},end:{line:88,column:5}},"41":{start:{line:86,column:6},end:{line:86,column:74}},"42":{start:{line:87,column:6},end:{line:87,column:116}},"43":{start:{line:89,column:4},end:{line:89,column:63}},"44":{start:{line:92,column:33},end:{line:92,column:80}},"45":{start:{line:93,column:22},end:{line:93,column:56}},"46":{start:{line:95,column:4},end:{line:100,column:5}},"47":{start:{line:96,column:6},end:{line:96,column:53}},"48":{start:{line:97,column:6},end:{line:97,column:119}},"49":{start:{line:99,column:6},end:{line:99,column:58}},"50":{start:{line:103,column:33},end:{line:103,column:75}},"51":{start:{line:104,column:22},end:{line:104,column:56}},"52":{start:{line:106,column:4},end:{line:111,column:5}},"53":{start:{line:107,column:6},end:{line:107,column:48}},"54":{start:{line:108,column:6},end:{line:108,column:114}},"55":{start:{line:110,column:6},end:{line:110,column:58}},"56":{start:{line:115,column:0},end:{line:115,column:36}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:11,column:9},end:{line:11,column:31}},loc:{start:{line:11,column:37},end:{line:11,column:95}},line:11},"1":{name:"createRedflag",decl:{start:{line:16,column:26},end:{line:16,column:39}},loc:{start:{line:16,column:50},end:{line:18,column:3}},line:16},"2":{name:"createIntervention",decl:{start:{line:19,column:31},end:{line:19,column:49}},loc:{start:{line:19,column:60},end:{line:21,column:3}},line:19},"3":{name:"viewAllRedflags",decl:{start:{line:22,column:28},end:{line:22,column:43}},loc:{start:{line:22,column:54},end:{line:24,column:3}},line:22},"4":{name:"viewAllInterventions",decl:{start:{line:25,column:33},end:{line:25,column:53}},loc:{start:{line:25,column:64},end:{line:27,column:3}},line:25},"5":{name:"viewOneRedflag",decl:{start:{line:28,column:27},end:{line:28,column:41}},loc:{start:{line:28,column:52},end:{line:37,column:3}},line:28},"6":{name:"viewOneIntervention",decl:{start:{line:38,column:32},end:{line:38,column:51}},loc:{start:{line:38,column:62},end:{line:47,column:3}},line:38},"7":{name:"editRedflagComment",decl:{start:{line:48,column:31},end:{line:48,column:49}},loc:{start:{line:48,column:60},end:{line:57,column:3}},line:48},"8":{name:"editRedflagLocation",decl:{start:{line:58,column:32},end:{line:58,column:51}},loc:{start:{line:58,column:62},end:{line:67,column:3}},line:58},"9":{name:"editIntervComment",decl:{start:{line:71,column:30},end:{line:71,column:47}},loc:{start:{line:71,column:58},end:{line:80,column:3}},line:71},"10":{name:"editIntervLocation",decl:{start:{line:81,column:31},end:{line:81,column:49}},loc:{start:{line:81,column:60},end:{line:90,column:3}},line:81},"11":{name:"deleteIntervention",decl:{start:{line:91,column:31},end:{line:91,column:49}},loc:{start:{line:91,column:60},end:{line:101,column:3}},line:91},"12":{name:"deleteRedflag",decl:{start:{line:102,column:26},end:{line:102,column:39}},loc:{start:{line:102,column:50},end:{line:112,column:3}},line:102}},branchMap:{"0":{loc:{start:{line:11,column:46},end:{line:11,column:92}},type:"cond-expr",locations:[{start:{line:11,column:70},end:{line:11,column:73}},{start:{line:11,column:76},end:{line:11,column:92}}],line:11},"1":{loc:{start:{line:11,column:46},end:{line:11,column:67}},type:"binary-expr",locations:[{start:{line:11,column:46},end:{line:11,column:49}},{start:{line:11,column:53},end:{line:11,column:67}}],line:11},"2":{loc:{start:{line:32,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:36,column:5}},{start:{line:32,column:4},end:{line:36,column:5}}],line:32},"3":{loc:{start:{line:42,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:42,column:4},end:{line:46,column:5}},{start:{line:42,column:4},end:{line:46,column:5}}],line:42},"4":{loc:{start:{line:52,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:55,column:5}},{start:{line:52,column:4},end:{line:55,column:5}}],line:52},"5":{loc:{start:{line:52,column:8},end:{line:52,column:39}},type:"binary-expr",locations:[{start:{line:52,column:8},end:{line:52,column:24}},{start:{line:52,column:28},end:{line:52,column:39}}],line:52},"6":{loc:{start:{line:62,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:62,column:4},end:{line:65,column:5}},{start:{line:62,column:4},end:{line:65,column:5}}],line:62},"7":{loc:{start:{line:62,column:8},end:{line:62,column:40}},type:"binary-expr",locations:[{start:{line:62,column:8},end:{line:62,column:25}},{start:{line:62,column:29},end:{line:62,column:40}}],line:62},"8":{loc:{start:{line:75,column:4},end:{line:78,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:78,column:5}},{start:{line:75,column:4},end:{line:78,column:5}}],line:75},"9":{loc:{start:{line:75,column:8},end:{line:75,column:39}},type:"binary-expr",locations:[{start:{line:75,column:8},end:{line:75,column:24}},{start:{line:75,column:28},end:{line:75,column:39}}],line:75},"10":{loc:{start:{line:85,column:4},end:{line:88,column:5}},type:"if",locations:[{start:{line:85,column:4},end:{line:88,column:5}},{start:{line:85,column:4},end:{line:88,column:5}}],line:85},"11":{loc:{start:{line:85,column:8},end:{line:85,column:40}},type:"binary-expr",locations:[{start:{line:85,column:8},end:{line:85,column:25}},{start:{line:85,column:29},end:{line:85,column:40}}],line:85},"12":{loc:{start:{line:95,column:4},end:{line:100,column:5}},type:"if",locations:[{start:{line:95,column:4},end:{line:100,column:5}},{start:{line:95,column:4},end:{line:100,column:5}}],line:95},"13":{loc:{start:{line:106,column:4},end:{line:111,column:5}},type:"if",locations:[{start:{line:106,column:4},end:{line:111,column:5}},{start:{line:106,column:4},end:{line:111,column:5}}],line:106}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_1wrtmob71s.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _ireportModel=(cov_1wrtmob71s.s[1]++,require('../models/ireportModel'));var _ireportModel2=(cov_1wrtmob71s.s[2]++,_interopRequireDefault(_ireportModel));function _interopRequireDefault(obj){cov_1wrtmob71s.f[0]++;cov_1wrtmob71s.s[3]++;return(cov_1wrtmob71s.b[1][0]++,obj)&&(cov_1wrtmob71s.b[1][1]++,obj.__esModule)?(cov_1wrtmob71s.b[0][0]++,obj):(cov_1wrtmob71s.b[0][1]++,{default:obj});}var recordObject=(cov_1wrtmob71s.s[4]++,new _ireportModel2.default());var recordControllers=(cov_1wrtmob71s.s[5]++,{createRedflag:function createRedflag(req,res){cov_1wrtmob71s.f[1]++;cov_1wrtmob71s.s[6]++;return res.status(201).send({data:[recordObject.createRecord(req.body)]});},createIntervention:function createIntervention(req,res){cov_1wrtmob71s.f[2]++;cov_1wrtmob71s.s[7]++;return res.status(201).send({data:[recordObject.createRecord(req.body)]});},viewAllRedflags:function viewAllRedflags(req,res){cov_1wrtmob71s.f[3]++;cov_1wrtmob71s.s[8]++;res.status(200).send({data:[recordObject.findAllRedflags()]});},viewAllInterventions:function viewAllInterventions(req,res){cov_1wrtmob71s.f[4]++;cov_1wrtmob71s.s[9]++;res.status(200).send({data:[recordObject.findAllInterventions()]});},viewOneRedflag:function viewOneRedflag(req,res){cov_1wrtmob71s.f[5]++;var _recordObject$findOne=(cov_1wrtmob71s.s[10]++,recordObject.findOneRedflag(req.params.id)),foundRecord=(cov_1wrtmob71s.s[11]++,_recordObject$findOne.foundRecord);cov_1wrtmob71s.s[12]++;if(!foundRecord){cov_1wrtmob71s.b[2][0]++;cov_1wrtmob71s.s[13]++;res.status(404).send({error:'Record not found'});}else{cov_1wrtmob71s.b[2][1]++;cov_1wrtmob71s.s[14]++;res.status(200).send({data:[foundRecord]});}},viewOneIntervention:function viewOneIntervention(req,res){cov_1wrtmob71s.f[6]++;var _recordObject$findOne2=(cov_1wrtmob71s.s[15]++,recordObject.findOneIntervention(req.params.id)),foundRecord=(cov_1wrtmob71s.s[16]++,_recordObject$findOne2.foundRecord);cov_1wrtmob71s.s[17]++;if(!foundRecord){cov_1wrtmob71s.b[3][0]++;cov_1wrtmob71s.s[18]++;res.status(404).send({error:'Record not found'});}else{cov_1wrtmob71s.b[3][1]++;cov_1wrtmob71s.s[19]++;res.status(200).send({data:[foundRecord]});}},editRedflagComment:function editRedflagComment(req,res){cov_1wrtmob71s.f[7]++;var _recordObject$findOne3=(cov_1wrtmob71s.s[20]++,recordObject.findOneRedflag(req.params.id)),foundRecord=(cov_1wrtmob71s.s[21]++,_recordObject$findOne3.foundRecord);cov_1wrtmob71s.s[22]++;if((cov_1wrtmob71s.b[5][0]++,req.body.comment)&&(cov_1wrtmob71s.b[5][1]++,foundRecord)){cov_1wrtmob71s.b[4][0]++;cov_1wrtmob71s.s[23]++;recordObject.updateRedflagComment(req.params.id,req.body.comment);cov_1wrtmob71s.s[24]++;return res.status(200).send({data:[{id:Number(req.params.id),message:'Updated record\'s comment'}]});}else{cov_1wrtmob71s.b[4][1]++;}cov_1wrtmob71s.s[25]++;return res.status(404).send({error:'Record not found'});},editRedflagLocation:function editRedflagLocation(req,res){cov_1wrtmob71s.f[8]++;var _recordObject$findOne4=(cov_1wrtmob71s.s[26]++,recordObject.findOneRedflag(req.params.id)),foundRecord=(cov_1wrtmob71s.s[27]++,_recordObject$findOne4.foundRecord);cov_1wrtmob71s.s[28]++;if((cov_1wrtmob71s.b[7][0]++,req.body.location)&&(cov_1wrtmob71s.b[7][1]++,foundRecord)){cov_1wrtmob71s.b[6][0]++;cov_1wrtmob71s.s[29]++;recordObject.updateRedflagLocation(req.params.id,req.body.location);cov_1wrtmob71s.s[30]++;return res.status(200).send({data:[{id:Number(req.params.id),message:'Updated record\'s location'}]});}else{cov_1wrtmob71s.b[6][1]++;}cov_1wrtmob71s.s[31]++;return res.status(404).send({error:'Record not found'});},// intervention
editIntervComment:function editIntervComment(req,res){cov_1wrtmob71s.f[9]++;var _recordObject$findOne5=(cov_1wrtmob71s.s[32]++,recordObject.findOneIntervention(req.params.id)),foundRecord=(cov_1wrtmob71s.s[33]++,_recordObject$findOne5.foundRecord);cov_1wrtmob71s.s[34]++;if((cov_1wrtmob71s.b[9][0]++,req.body.comment)&&(cov_1wrtmob71s.b[9][1]++,foundRecord)){cov_1wrtmob71s.b[8][0]++;cov_1wrtmob71s.s[35]++;recordObject.updateIntervComment(req.params.id,req.body.comment);cov_1wrtmob71s.s[36]++;return res.status(200).send({data:[{id:Number(req.params.id),message:'Updated record\'s comment'}]});}else{cov_1wrtmob71s.b[8][1]++;}cov_1wrtmob71s.s[37]++;return res.status(404).send({error:'Record not found'});},editIntervLocation:function editIntervLocation(req,res){cov_1wrtmob71s.f[10]++;var _recordObject$findOne6=(cov_1wrtmob71s.s[38]++,recordObject.findOneIntervention(req.params.id)),foundRecord=(cov_1wrtmob71s.s[39]++,_recordObject$findOne6.foundRecord);cov_1wrtmob71s.s[40]++;if((cov_1wrtmob71s.b[11][0]++,req.body.location)&&(cov_1wrtmob71s.b[11][1]++,foundRecord)){cov_1wrtmob71s.b[10][0]++;cov_1wrtmob71s.s[41]++;recordObject.updateIntervLocation(req.params.id,req.body.location);cov_1wrtmob71s.s[42]++;return res.status(200).send({data:[{id:Number(req.params.id),message:'Updated record\'s location'}]});}else{cov_1wrtmob71s.b[10][1]++;}cov_1wrtmob71s.s[43]++;return res.status(404).send({error:'Record not found'});},deleteIntervention:function deleteIntervention(req,res){cov_1wrtmob71s.f[11]++;var _recordObject$findOne7=(cov_1wrtmob71s.s[44]++,recordObject.findOneIntervention(req.params.id)),foundRecord=(cov_1wrtmob71s.s[45]++,_recordObject$findOne7.foundRecord);cov_1wrtmob71s.s[46]++;if(foundRecord){cov_1wrtmob71s.b[12][0]++;cov_1wrtmob71s.s[47]++;recordObject.deleteIntervention(req.params.id);cov_1wrtmob71s.s[48]++;res.status(200).send({data:[{id:Number(req.params.id),message:'Intervention record has been deleted'}]});}else{cov_1wrtmob71s.b[12][1]++;cov_1wrtmob71s.s[49]++;res.status(404).send({error:'Record not found'});}},deleteRedflag:function deleteRedflag(req,res){cov_1wrtmob71s.f[12]++;var _recordObject$findOne8=(cov_1wrtmob71s.s[50]++,recordObject.findOneRedflag(req.params.id)),foundRecord=(cov_1wrtmob71s.s[51]++,_recordObject$findOne8.foundRecord);cov_1wrtmob71s.s[52]++;if(foundRecord){cov_1wrtmob71s.b[13][0]++;cov_1wrtmob71s.s[53]++;recordObject.deleteRedflag(req.params.id);cov_1wrtmob71s.s[54]++;res.status(200).send({data:[{id:Number(req.params.id),message:'Redflag record has been deleted'}]});}else{cov_1wrtmob71s.b[13][1]++;cov_1wrtmob71s.s[55]++;res.status(404).send({error:'Record not found'});}}});cov_1wrtmob71s.s[56]++;exports.default=recordControllers;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlyZXBvcnRDb250cm9sLmpzIl0sIm5hbWVzIjpbInJlY29yZE9iamVjdCIsIlJlY29yZCIsInJlY29yZENvbnRyb2xsZXJzIiwiY3JlYXRlUmVkZmxhZyIsInJlcSIsInJlcyIsInN0YXR1cyIsInNlbmQiLCJkYXRhIiwiY3JlYXRlUmVjb3JkIiwiYm9keSIsImNyZWF0ZUludGVydmVudGlvbiIsInZpZXdBbGxSZWRmbGFncyIsImZpbmRBbGxSZWRmbGFncyIsInZpZXdBbGxJbnRlcnZlbnRpb25zIiwiZmluZEFsbEludGVydmVudGlvbnMiLCJ2aWV3T25lUmVkZmxhZyIsImZpbmRPbmVSZWRmbGFnIiwicGFyYW1zIiwiaWQiLCJmb3VuZFJlY29yZCIsImVycm9yIiwidmlld09uZUludGVydmVudGlvbiIsImZpbmRPbmVJbnRlcnZlbnRpb24iLCJlZGl0UmVkZmxhZ0NvbW1lbnQiLCJjb21tZW50IiwidXBkYXRlUmVkZmxhZ0NvbW1lbnQiLCJOdW1iZXIiLCJtZXNzYWdlIiwiZWRpdFJlZGZsYWdMb2NhdGlvbiIsImxvY2F0aW9uIiwidXBkYXRlUmVkZmxhZ0xvY2F0aW9uIiwiZWRpdEludGVydkNvbW1lbnQiLCJ1cGRhdGVJbnRlcnZDb21tZW50IiwiZWRpdEludGVydkxvY2F0aW9uIiwidXBkYXRlSW50ZXJ2TG9jYXRpb24iLCJkZWxldGVJbnRlcnZlbnRpb24iLCJkZWxldGVSZWRmbGFnIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7O0FBQ0EsSUFBTUEsZUFBZSxJQUFJQyxzQkFBSixFQUFyQjs7QUFFQSxJQUFNQyxvQkFBb0I7QUFDeEJDLGVBRHdCLHlCQUNWQyxHQURVLEVBQ0xDLEdBREssRUFDQTtBQUN0QixXQUFPQSxJQUFJQyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBRUMsTUFBTSxDQUFDUixhQUFhUyxZQUFiLENBQTBCTCxJQUFJTSxJQUE5QixDQUFELENBQVIsRUFBckIsQ0FBUDtBQUNELEdBSHVCO0FBS3hC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SWMsTUFBSixDQUFXQyxFQUFsQixDQUFOLEVBQTZCUyxTQUFTLHNDQUF0QyxFQUFELENBQVIsRUFBckI7QUFDRCxLQUhELE1BR087QUFDTHZCLFVBQUlDLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixFQUFFYyxPQUFPLGtCQUFULEVBQXJCO0FBQ0Q7QUFDRixHQWhGdUI7QUFrRnhCZ0IsZUFsRndCLHlCQWtGVmpDLEdBbEZVLEVBa0ZMQyxHQWxGSyxFQWtGQTtBQUFBLGlDQUNFTCxhQUFhaUIsY0FBYixDQUE0QmIsSUFBSWMsTUFBSixDQUFXQyxFQUF2QyxDQURGO0FBQUEsUUFDZEMsV0FEYywwQkFDZEEsV0FEYzs7QUFFdEIsUUFBSUEsV0FBSixFQUFpQjtBQUNmcEIsbUJBQWFxQyxhQUFiLENBQTJCakMsSUFBSWMsTUFBSixDQUFXQyxFQUF0QztBQUNBZCxVQUFJQyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBRUMsTUFBTSxDQUFDLEVBQUVXLElBQUlRLE9BQU92QixJQUFJYyxNQUFKLENBQVdDLEVBQWxCLENBQU4sRUFBNkJTLFNBQVMsaUNBQXRDLEVBQUQsQ0FBUixFQUFyQjtBQUNELEtBSEQsTUFHTztBQUNMdkIsVUFBSUMsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQUVjLE9BQU8sa0JBQVQsRUFBckI7QUFDRDtBQUNGO0FBMUZ1QixDQUExQjs7a0JBNkZlbkIsaUIiLCJmaWxlIjoiaXJlcG9ydENvbnRyb2wuanMiLCJzb3VyY2VSb290IjoiQzovVXNlcnMvQ3liZXJDbG9uZWQvRG9jdW1lbnRzL1pva2t5L0FuZGVsYS9pUmVwb3J0ZXJBcHAvc3JjL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlY29yZCBmcm9tICcuLi9tb2RlbHMvaXJlcG9ydE1vZGVsJztcbmNvbnN0IHJlY29yZE9iamVjdCA9IG5ldyBSZWNvcmQoKTtcblxuY29uc3QgcmVjb3JkQ29udHJvbGxlcnMgPSB7XG4gIGNyZWF0ZVJlZGZsYWcocmVxLCByZXMpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoeyBkYXRhOiBbcmVjb3JkT2JqZWN0LmNyZWF0ZVJlY29yZChyZXEuYm9keSldIH0pO1xuICB9LFxuXG4gIGNyZWF0ZUludGVydmVudGlvbihyZXEsIHJlcykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZCh7IGRhdGE6IFtyZWNvcmRPYmplY3QuY3JlYXRlUmVjb3JkKHJlcS5ib2R5KV0gfSk7XG4gIH0sXG5cbiAgdmlld0FsbFJlZGZsYWdzKHJlcSwgcmVzKSB7XG4gICAgcmVzLnN0YXR1cygyMDApLnNlbmQoeyBkYXRhOiBbcmVjb3JkT2JqZWN0LmZpbmRBbGxSZWRmbGFncygpXSB9KTtcbiAgfSxcblxuICB2aWV3QWxsSW50ZXJ2ZW50aW9ucyhyZXEsIHJlcykge1xuICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgZGF0YTogW3JlY29yZE9iamVjdC5maW5kQWxsSW50ZXJ2ZW50aW9ucygpXSB9KTtcbiAgfSxcblxuICB2aWV3T25lUmVkZmxhZyhyZXEsIHJlcykge1xuICAgIGNvbnN0IHsgZm91bmRSZWNvcmQgfSA9IHJlY29yZE9iamVjdC5maW5kT25lUmVkZmxhZyhyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAoIWZvdW5kUmVjb3JkKSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IGVycm9yOiAnUmVjb3JkIG5vdCBmb3VuZCcgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgZGF0YTogW2ZvdW5kUmVjb3JkXSB9KTtcbiAgICB9XG4gIH0sXG5cbiAgdmlld09uZUludGVydmVudGlvbihyZXEsIHJlcykge1xuICAgIGNvbnN0IHsgZm91bmRSZWNvcmQgfSA9IHJlY29yZE9iamVjdC5maW5kT25lSW50ZXJ2ZW50aW9uKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICghZm91bmRSZWNvcmQpIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgZXJyb3I6ICdSZWNvcmQgbm90IGZvdW5kJyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoeyBkYXRhOiBbZm91bmRSZWNvcmRdIH0pO1xuICAgIH1cbiAgfSxcblxuICBlZGl0UmVkZmxhZ0NvbW1lbnQocmVxLCByZXMpIHtcbiAgICBjb25zdCB7IGZvdW5kUmVjb3JkIH0gPSByZWNvcmRPYmplY3QuZmluZE9uZVJlZGZsYWcocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKHJlcS5ib2R5LmNvbW1lbnQgJiYgZm91bmRSZWNvcmQpIHtcbiAgICAgIHJlY29yZE9iamVjdC51cGRhdGVSZWRmbGFnQ29tbWVudChyZXEucGFyYW1zLmlkLCByZXEuYm9keS5jb21tZW50KVxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgZGF0YTogW3sgaWQ6IE51bWJlcihyZXEucGFyYW1zLmlkKSwgbWVzc2FnZTogJ1VwZGF0ZWQgcmVjb3JkXFwncyBjb21tZW50JyB9XSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgZXJyb3I6ICdSZWNvcmQgbm90IGZvdW5kJyB9KTtcbiAgfSxcblxuICBlZGl0UmVkZmxhZ0xvY2F0aW9uKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgeyBmb3VuZFJlY29yZCB9ID0gcmVjb3JkT2JqZWN0LmZpbmRPbmVSZWRmbGFnKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChyZXEuYm9keS5sb2NhdGlvbiAmJiBmb3VuZFJlY29yZCkge1xuICAgICAgcmVjb3JkT2JqZWN0LnVwZGF0ZVJlZGZsYWdMb2NhdGlvbihyZXEucGFyYW1zLmlkLCByZXEuYm9keS5sb2NhdGlvbilcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IGRhdGE6IFt7IGlkOiBOdW1iZXIocmVxLnBhcmFtcy5pZCksIG1lc3NhZ2U6ICdVcGRhdGVkIHJlY29yZFxcJ3MgbG9jYXRpb24nIH1dIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBlcnJvcjogJ1JlY29yZCBub3QgZm91bmQnIH0pO1xuICB9LFxuXG4gIC8vIGludGVydmVudGlvblxuICBlZGl0SW50ZXJ2Q29tbWVudChyZXEsIHJlcykge1xuICAgIGNvbnN0IHsgZm91bmRSZWNvcmQgfSA9IHJlY29yZE9iamVjdC5maW5kT25lSW50ZXJ2ZW50aW9uKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChyZXEuYm9keS5jb21tZW50ICYmIGZvdW5kUmVjb3JkKSB7XG4gICAgICByZWNvcmRPYmplY3QudXBkYXRlSW50ZXJ2Q29tbWVudChyZXEucGFyYW1zLmlkLCByZXEuYm9keS5jb21tZW50KVxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgZGF0YTogW3sgaWQ6IE51bWJlcihyZXEucGFyYW1zLmlkKSwgbWVzc2FnZTogJ1VwZGF0ZWQgcmVjb3JkXFwncyBjb21tZW50JyB9XSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgZXJyb3I6ICdSZWNvcmQgbm90IGZvdW5kJyB9KTtcbiAgfSxcblxuICBlZGl0SW50ZXJ2TG9jYXRpb24ocmVxLCByZXMpIHtcbiAgICBjb25zdCB7IGZvdW5kUmVjb3JkIH0gPSByZWNvcmRPYmplY3QuZmluZE9uZUludGVydmVudGlvbihyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAocmVxLmJvZHkubG9jYXRpb24gJiYgZm91bmRSZWNvcmQpIHtcbiAgICAgIHJlY29yZE9iamVjdC51cGRhdGVJbnRlcnZMb2NhdGlvbihyZXEucGFyYW1zLmlkLCByZXEuYm9keS5sb2NhdGlvbilcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IGRhdGE6IFt7IGlkOiBOdW1iZXIocmVxLnBhcmFtcy5pZCksIG1lc3NhZ2U6ICdVcGRhdGVkIHJlY29yZFxcJ3MgbG9jYXRpb24nIH1dIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBlcnJvcjogJ1JlY29yZCBub3QgZm91bmQnIH0pO1xuICB9LFxuXG4gIGRlbGV0ZUludGVydmVudGlvbihyZXEsIHJlcykge1xuICAgIGNvbnN0IHsgZm91bmRSZWNvcmQgfSA9IHJlY29yZE9iamVjdC5maW5kT25lSW50ZXJ2ZW50aW9uKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChmb3VuZFJlY29yZCkge1xuICAgICAgcmVjb3JkT2JqZWN0LmRlbGV0ZUludGVydmVudGlvbihyZXEucGFyYW1zLmlkKVxuICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoeyBkYXRhOiBbeyBpZDogTnVtYmVyKHJlcS5wYXJhbXMuaWQpLCBtZXNzYWdlOiAnSW50ZXJ2ZW50aW9uIHJlY29yZCBoYXMgYmVlbiBkZWxldGVkJyB9XSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBlcnJvcjogJ1JlY29yZCBub3QgZm91bmQnIH0pO1xuICAgIH1cbiAgfSxcblxuICBkZWxldGVSZWRmbGFnKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgeyBmb3VuZFJlY29yZCB9ID0gcmVjb3JkT2JqZWN0LmZpbmRPbmVSZWRmbGFnKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChmb3VuZFJlY29yZCkge1xuICAgICAgcmVjb3JkT2JqZWN0LmRlbGV0ZVJlZGZsYWcocmVxLnBhcmFtcy5pZClcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgZGF0YTogW3sgaWQ6IE51bWJlcihyZXEucGFyYW1zLmlkKSwgbWVzc2FnZTogJ1JlZGZsYWcgcmVjb3JkIGhhcyBiZWVuIGRlbGV0ZWQnIH1dIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IGVycm9yOiAnUmVjb3JkIG5vdCBmb3VuZCcgfSk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCByZWNvcmRDb250cm9sbGVycztcbiJdfQ==