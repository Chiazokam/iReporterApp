{"version":3,"sources":["ireportControl.js"],"names":["recordObject","Record","recordControllers","createRedflag","req","res","status","send","data","createRecord","body","createIntervention","viewAllRedflags","findAllRedflags","viewAllInterventions","findAllInterventions","viewOneRedflag","findOneRedflag","params","id","foundRecord","error","viewOneIntervention","findOneIntervention","editRedflagComment","comment","updateRedflagComment","Number","message","editRedflagLocation","location","updateRedflagLocation","editIntervComment","updateIntervComment","editIntervLocation","updateIntervLocation","deleteIntervention","deleteRedflag"],"mappings":";;;;;;AAAA;;;;;;AACA,IAAMA,eAAe,IAAIC,sBAAJ,EAArB;;AAEA,IAAMC,oBAAoB;AACxBC,eADwB,yBACVC,GADU,EACLC,GADK,EACA;AACtB,WAAOA,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAACR,aAAaS,YAAb,CAA0BL,IAAIM,IAA9B,CAAD,CAAR,EAArB,CAAP;AACD,GAHuB;AAKxBC,oBALwB,8BAKLP,GALK,EAKAC,GALA,EAKK;AAC3B,WAAOA,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAACR,aAAaS,YAAb,CAA0BL,IAAIM,IAA9B,CAAD,CAAR,EAArB,CAAP;AACD,GAPuB;AASxBE,iBATwB,2BASRR,GATQ,EASHC,GATG,EASE;AACxBA,QAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAACR,aAAaa,eAAb,EAAD,CAAR,EAArB;AACD,GAXuB;AAaxBC,sBAbwB,gCAaHV,GAbG,EAaEC,GAbF,EAaO;AAC7BA,QAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAACR,aAAae,oBAAb,EAAD,CAAR,EAArB;AACD,GAfuB;AAiBxBC,gBAjBwB,0BAiBTZ,GAjBS,EAiBJC,GAjBI,EAiBC;AAAA,gCACCL,aAAaiB,cAAb,CAA4Bb,IAAIc,MAAJ,CAAWC,EAAvC,CADD;AAAA,QACfC,WADe,yBACfA,WADe;;AAEvB,QAAI,CAACA,WAAL,EAAkB;AAChBf,UAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEc,OAAO,kBAAT,EAArB;AACD,KAFD,MAEO;AACLhB,UAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAACY,WAAD,CAAR,EAArB;AACD;AACF,GAxBuB;AA0BxBE,qBA1BwB,+BA0BJlB,GA1BI,EA0BCC,GA1BD,EA0BM;AAAA,iCACJL,aAAauB,mBAAb,CAAiCnB,IAAIc,MAAJ,CAAWC,EAA5C,CADI;AAAA,QACpBC,WADoB,0BACpBA,WADoB;;AAE5B,QAAI,CAACA,WAAL,EAAkB;AAChBf,UAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEc,OAAO,kBAAT,EAArB;AACD,KAFD,MAEO;AACLhB,UAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAACY,WAAD,CAAR,EAArB;AACD;AACF,GAjCuB;AAmCxBI,oBAnCwB,8BAmCLpB,GAnCK,EAmCAC,GAnCA,EAmCK;AAAA,iCACHL,aAAaiB,cAAb,CAA4Bb,IAAIc,MAAJ,CAAWC,EAAvC,CADG;AAAA,QACnBC,WADmB,0BACnBA,WADmB;;AAE3B,QAAIhB,IAAIM,IAAJ,CAASe,OAAT,IAAoBL,WAAxB,EAAqC;AACnCpB,mBAAa0B,oBAAb,CAAkCtB,IAAIc,MAAJ,CAAWC,EAA7C,EAAiDf,IAAIM,IAAJ,CAASe,OAA1D;AACA,aAAOpB,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAAC,EAAEW,IAAIQ,OAAOvB,IAAIc,MAAJ,CAAWC,EAAlB,CAAN,EAA6BS,SAAS,2BAAtC,EAAD,CAAR,EAArB,CAAP;AACD;AACD,WAAOvB,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEc,OAAO,kBAAT,EAArB,CAAP;AACD,GA1CuB;AA4CxBQ,qBA5CwB,+BA4CJzB,GA5CI,EA4CCC,GA5CD,EA4CM;AAAA,iCACJL,aAAaiB,cAAb,CAA4Bb,IAAIc,MAAJ,CAAWC,EAAvC,CADI;AAAA,QACpBC,WADoB,0BACpBA,WADoB;;AAE5B,QAAIhB,IAAIM,IAAJ,CAASoB,QAAT,IAAqBV,WAAzB,EAAsC;AACpCpB,mBAAa+B,qBAAb,CAAmC3B,IAAIc,MAAJ,CAAWC,EAA9C,EAAkDf,IAAIM,IAAJ,CAASoB,QAA3D;AACA,aAAOzB,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAAC,EAAEW,IAAIQ,OAAOvB,IAAIc,MAAJ,CAAWC,EAAlB,CAAN,EAA6BS,SAAS,4BAAtC,EAAD,CAAR,EAArB,CAAP;AACD;AACD,WAAOvB,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEc,OAAO,kBAAT,EAArB,CAAP;AACD,GAnDuB;;;AAqDxB;AACAW,mBAtDwB,6BAsDN5B,GAtDM,EAsDDC,GAtDC,EAsDI;AAAA,iCACFL,aAAauB,mBAAb,CAAiCnB,IAAIc,MAAJ,CAAWC,EAA5C,CADE;AAAA,QAClBC,WADkB,0BAClBA,WADkB;;AAE1B,QAAIhB,IAAIM,IAAJ,CAASe,OAAT,IAAoBL,WAAxB,EAAqC;AACnCpB,mBAAaiC,mBAAb,CAAiC7B,IAAIc,MAAJ,CAAWC,EAA5C,EAAgDf,IAAIM,IAAJ,CAASe,OAAzD;AACA,aAAOpB,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAAC,EAAEW,IAAIQ,OAAOvB,IAAIc,MAAJ,CAAWC,EAAlB,CAAN,EAA6BS,SAAS,2BAAtC,EAAD,CAAR,EAArB,CAAP;AACD;AACD,WAAOvB,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEc,OAAO,kBAAT,EAArB,CAAP;AACD,GA7DuB;AA+DxBa,oBA/DwB,8BA+DL9B,GA/DK,EA+DAC,GA/DA,EA+DK;AAAA,iCACHL,aAAauB,mBAAb,CAAiCnB,IAAIc,MAAJ,CAAWC,EAA5C,CADG;AAAA,QACnBC,WADmB,0BACnBA,WADmB;;AAE3B,QAAIhB,IAAIM,IAAJ,CAASoB,QAAT,IAAqBV,WAAzB,EAAsC;AACpCpB,mBAAamC,oBAAb,CAAkC/B,IAAIc,MAAJ,CAAWC,EAA7C,EAAiDf,IAAIM,IAAJ,CAASoB,QAA1D;AACA,aAAOzB,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAAC,EAAEW,IAAIQ,OAAOvB,IAAIc,MAAJ,CAAWC,EAAlB,CAAN,EAA6BS,SAAS,4BAAtC,EAAD,CAAR,EAArB,CAAP;AACD;AACD,WAAOvB,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEc,OAAO,kBAAT,EAArB,CAAP;AACD,GAtEuB;AAwExBe,oBAxEwB,8BAwELhC,GAxEK,EAwEAC,GAxEA,EAwEK;AAAA,iCACHL,aAAauB,mBAAb,CAAiCnB,IAAIc,MAAJ,CAAWC,EAA5C,CADG;AAAA,QACnBC,WADmB,0BACnBA,WADmB;;AAE3B,QAAIA,WAAJ,EAAiB;AACfpB,mBAAaoC,kBAAb,CAAgChC,IAAIc,MAAJ,CAAWC,EAA3C;AACAd,UAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAAC,EAAEW,IAAIQ,OAAOvB,IAAIc,MAAJ,CAAWC,EAAlB,CAAN,EAA6BS,SAAS,sCAAtC,EAAD,CAAR,EAArB;AACD,KAHD,MAGO;AACLvB,UAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEc,OAAO,kBAAT,EAArB;AACD;AACF,GAhFuB;AAkFxBgB,eAlFwB,yBAkFVjC,GAlFU,EAkFLC,GAlFK,EAkFA;AAAA,iCACEL,aAAaiB,cAAb,CAA4Bb,IAAIc,MAAJ,CAAWC,EAAvC,CADF;AAAA,QACdC,WADc,0BACdA,WADc;;AAEtB,QAAIA,WAAJ,EAAiB;AACfpB,mBAAaqC,aAAb,CAA2BjC,IAAIc,MAAJ,CAAWC,EAAtC;AACAd,UAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAAC,EAAEW,IAAIQ,OAAOvB,IAAIc,MAAJ,CAAWC,EAAlB,CAAN,EAA6BS,SAAS,iCAAtC,EAAD,CAAR,EAArB;AACD,KAHD,MAGO;AACLvB,UAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEc,OAAO,kBAAT,EAArB;AACD;AACF;AA1FuB,CAA1B;;kBA6FenB,iB","file":"ireportControl.js","sourceRoot":"C:/Users/CyberCloned/Documents/Zokky/Andela/iReporterApp/src/controllers","sourcesContent":["import Record from '../models/ireportModel';\nconst recordObject = new Record();\n\nconst recordControllers = {\n  createRedflag(req, res) {\n    return res.status(201).send({ data: [recordObject.createRecord(req.body)] });\n  },\n\n  createIntervention(req, res) {\n    return res.status(201).send({ data: [recordObject.createRecord(req.body)] });\n  },\n\n  viewAllRedflags(req, res) {\n    res.status(200).send({ data: [recordObject.findAllRedflags()] });\n  },\n\n  viewAllInterventions(req, res) {\n    res.status(200).send({ data: [recordObject.findAllInterventions()] });\n  },\n\n  viewOneRedflag(req, res) {\n    const { foundRecord } = recordObject.findOneRedflag(req.params.id);\n    if (!foundRecord) {\n      res.status(404).send({ error: 'Record not found' });\n    } else {\n      res.status(200).send({ data: [foundRecord] });\n    }\n  },\n\n  viewOneIntervention(req, res) {\n    const { foundRecord } = recordObject.findOneIntervention(req.params.id);\n    if (!foundRecord) {\n      res.status(404).send({ error: 'Record not found' });\n    } else {\n      res.status(200).send({ data: [foundRecord] });\n    }\n  },\n\n  editRedflagComment(req, res) {\n    const { foundRecord } = recordObject.findOneRedflag(req.params.id);\n    if (req.body.comment && foundRecord) {\n      recordObject.updateRedflagComment(req.params.id, req.body.comment)\n      return res.status(200).send({ data: [{ id: Number(req.params.id), message: 'Updated record\\'s comment' }] });\n    }\n    return res.status(404).send({ error: 'Record not found' });\n  },\n\n  editRedflagLocation(req, res) {\n    const { foundRecord } = recordObject.findOneRedflag(req.params.id);\n    if (req.body.location && foundRecord) {\n      recordObject.updateRedflagLocation(req.params.id, req.body.location)\n      return res.status(200).send({ data: [{ id: Number(req.params.id), message: 'Updated record\\'s location' }] });\n    }\n    return res.status(404).send({ error: 'Record not found' });\n  },\n\n  // intervention\n  editIntervComment(req, res) {\n    const { foundRecord } = recordObject.findOneIntervention(req.params.id);\n    if (req.body.comment && foundRecord) {\n      recordObject.updateIntervComment(req.params.id, req.body.comment)\n      return res.status(200).send({ data: [{ id: Number(req.params.id), message: 'Updated record\\'s comment' }] });\n    }\n    return res.status(404).send({ error: 'Record not found' });\n  },\n\n  editIntervLocation(req, res) {\n    const { foundRecord } = recordObject.findOneIntervention(req.params.id);\n    if (req.body.location && foundRecord) {\n      recordObject.updateIntervLocation(req.params.id, req.body.location)\n      return res.status(200).send({ data: [{ id: Number(req.params.id), message: 'Updated record\\'s location' }] });\n    }\n    return res.status(404).send({ error: 'Record not found' });\n  },\n\n  deleteIntervention(req, res) {\n    const { foundRecord } = recordObject.findOneIntervention(req.params.id);\n    if (foundRecord) {\n      recordObject.deleteIntervention(req.params.id)\n      res.status(200).send({ data: [{ id: Number(req.params.id), message: 'Intervention record has been deleted' }] });\n    } else {\n      res.status(404).send({ error: 'Record not found' });\n    }\n  },\n\n  deleteRedflag(req, res) {\n    const { foundRecord } = recordObject.findOneRedflag(req.params.id);\n    if (foundRecord) {\n      recordObject.deleteRedflag(req.params.id)\n      res.status(200).send({ data: [{ id: Number(req.params.id), message: 'Redflag record has been deleted' }] });\n    } else {\n      res.status(404).send({ error: 'Record not found' });\n    }\n  }\n};\n\nexport default recordControllers;\n"]}