{"version":3,"sources":["ireportControl.js"],"names":["recordObject","Record","recordControllers","createRedflag","req","res","status","send","data","createRecord","body","createIntervention","viewAllRedflags","findAllRedflags","viewAllInterventions","findAllInterventions","viewOneRedflag","findOneRecord","params","id","foundRecord","error","viewOneIntervention","editRecordComment","comment","updateComment","Number","message","editRecordLocation","location","updateLocation","deleteIntervention","deleteRecord"],"mappings":";;;;;;AAAA;;;;;;AACA,IAAMA,eAAe,IAAIC,sBAAJ,EAArB;;AAEA,IAAMC,oBAAoB;AACxBC,eADwB,yBACVC,GADU,EACLC,GADK,EACA;AACtB,WAAOA,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAACR,aAAaS,YAAb,CAA0BL,IAAIM,IAA9B,CAAD,CAAR,EAArB,CAAP;AACD,GAHuB;AAKxBC,oBALwB,8BAKLP,GALK,EAKAC,GALA,EAKK;AAC3B,WAAOA,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAACR,aAAaS,YAAb,CAA0BL,IAAIM,IAA9B,CAAD,CAAR,EAArB,CAAP;AACD,GAPuB;AASxBE,iBATwB,2BASRR,GATQ,EASHC,GATG,EASE;AACxBA,QAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAACR,aAAaa,eAAb,EAAD,CAAR,EAArB;AACD,GAXuB;AAaxBC,sBAbwB,gCAaHV,GAbG,EAaEC,GAbF,EAaO;AAC7BA,QAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAACR,aAAae,oBAAb,EAAD,CAAR,EAArB;AACD,GAfuB;AAiBxBC,gBAjBwB,0BAiBTZ,GAjBS,EAiBJC,GAjBI,EAiBC;AAAA,gCACCL,aAAaiB,aAAb,CAA2Bb,IAAIc,MAAJ,CAAWC,EAAtC,CADD;AAAA,QACfC,WADe,yBACfA,WADe;;AAEvB,QAAI,CAACA,WAAL,EAAkB;AAChBf,UAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEc,OAAO,kBAAT,EAArB;AACD,KAFD,MAEO;AACLhB,UAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAACY,WAAD,CAAR,EAArB;AACD;AACF,GAxBuB;AA0BxBE,qBA1BwB,+BA0BJlB,GA1BI,EA0BCC,GA1BD,EA0BM;AAAA,iCACJL,aAAaiB,aAAb,CAA2Bb,IAAIc,MAAJ,CAAWC,EAAtC,CADI;AAAA,QACpBC,WADoB,0BACpBA,WADoB;;AAE5B,QAAI,CAACA,WAAL,EAAkB;AAChBf,UAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEc,OAAO,kBAAT,EAArB;AACD,KAFD,MAEO;AACLhB,UAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAACY,WAAD,CAAR,EAArB;AACD;AACF,GAjCuB;AAmCxBG,mBAnCwB,6BAmCNnB,GAnCM,EAmCDC,GAnCC,EAmCI;AAAA,iCACFL,aAAaiB,aAAb,CAA2Bb,IAAIc,MAAJ,CAAWC,EAAtC,CADE;AAAA,QAClBC,WADkB,0BAClBA,WADkB;;AAE1B,QAAIhB,IAAIM,IAAJ,CAASc,OAAb,EAAsB;AACpBxB,mBAAayB,aAAb,CAA2BrB,IAAIc,MAAJ,CAAWC,EAAtC,EAA0Cf,IAAIM,IAAJ,CAASc,OAAnD;AACA,aAAOnB,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAAC,EAAEW,IAAIO,OAAOtB,IAAIc,MAAJ,CAAWC,EAAlB,CAAN,EAA6BQ,SAAS,2BAAtC,EAAD,CAAR,EAArB,CAAP;AACD;AACD,WAAOtB,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEc,OAAO,kBAAT,EAArB,CAAP;AACD,GA1CuB;AA4CxBO,oBA5CwB,8BA4CLxB,GA5CK,EA4CAC,GA5CA,EA4CK;AAAA,iCACHL,aAAaiB,aAAb,CAA2Bb,IAAIc,MAAJ,CAAWC,EAAtC,CADG;AAAA,QACnBC,WADmB,0BACnBA,WADmB;;AAE3B,QAAIhB,IAAIM,IAAJ,CAASmB,QAAb,EAAuB;AACrB7B,mBAAa8B,cAAb,CAA4B1B,IAAIc,MAAJ,CAAWC,EAAvC,EAA2Cf,IAAIM,IAAJ,CAASmB,QAApD;AACA,aAAOxB,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAAC,EAAEW,IAAIO,OAAOtB,IAAIc,MAAJ,CAAWC,EAAlB,CAAN,EAA6BQ,SAAS,2BAAtC,EAAD,CAAR,EAArB,CAAP;AACD;AACD,WAAOtB,IAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEc,OAAO,kBAAT,EAArB,CAAP;AACD,GAnDuB;AAqDxBU,oBArDwB,8BAqDL3B,GArDK,EAqDAC,GArDA,EAqDK;AAAA,iCACHL,aAAaiB,aAAb,CAA2Bb,IAAIc,MAAJ,CAAWC,EAAtC,CADG;AAAA,QACnBC,WADmB,0BACnBA,WADmB;;AAE3B,QAAI,CAACA,WAAL,EAAkB;AAChBf,UAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEc,OAAO,kBAAT,EAArB;AACD,KAFD,MAEO;AACLrB,mBAAagC,YAAb,CAA0B5B,IAAIc,MAAJ,CAAWC,EAArC;AACAd,UAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,MAAM,CAAC,EAAEW,IAAIO,OAAOtB,IAAIc,MAAJ,CAAWC,EAAlB,CAAN,EAA6BQ,SAAS,sCAAtC,EAAD,CAAR,EAArB;AACD;AACF;AA7DuB,CAA1B;;kBAgEezB,iB","file":"ireportControl.js","sourceRoot":"C:/Users/CyberCloned/Documents/Zokky/Andela/iReporterApp/src/controllers","sourcesContent":["import Record from '../models/ireportModel';\r\nconst recordObject = new Record();\r\n\r\nconst recordControllers = {\r\n  createRedflag(req, res) {\r\n    return res.status(201).send({ data: [recordObject.createRecord(req.body)] });\r\n  },\r\n\r\n  createIntervention(req, res) {\r\n    return res.status(201).send({ data: [recordObject.createRecord(req.body)] });\r\n  },\r\n\r\n  viewAllRedflags(req, res) {\r\n    res.status(200).send({ data: [recordObject.findAllRedflags()] });\r\n  },\r\n\r\n  viewAllInterventions(req, res) {\r\n    res.status(200).send({ data: [recordObject.findAllInterventions()] });\r\n  },\r\n\r\n  viewOneRedflag(req, res) {\r\n    const { foundRecord } = recordObject.findOneRecord(req.params.id);\r\n    if (!foundRecord) {\r\n      res.status(404).send({ error: 'Record not found' });\r\n    } else {\r\n      res.status(200).send({ data: [foundRecord] });\r\n    }\r\n  },\r\n\r\n  viewOneIntervention(req, res) {\r\n    const { foundRecord } = recordObject.findOneRecord(req.params.id);\r\n    if (!foundRecord) {\r\n      res.status(404).send({ error: 'Record not found' });\r\n    } else {\r\n      res.status(200).send({ data: [foundRecord] });\r\n    }\r\n  },\r\n\r\n  editRecordComment(req, res) {\r\n    const { foundRecord } = recordObject.findOneRecord(req.params.id);\r\n    if (req.body.comment) {\r\n      recordObject.updateComment(req.params.id, req.body.comment)\r\n      return res.status(200).send({ data: [{ id: Number(req.params.id), message: 'Updated record\\'s comment' }] });\r\n    }\r\n    return res.status(404).send({ error: 'Record not found' });\r\n  },\r\n\r\n  editRecordLocation(req, res) {\r\n    const { foundRecord } = recordObject.findOneRecord(req.params.id);\r\n    if (req.body.location) {\r\n      recordObject.updateLocation(req.params.id, req.body.location)\r\n      return res.status(200).send({ data: [{ id: Number(req.params.id), message: 'Updated record\\'s comment' }] });\r\n    }\r\n    return res.status(404).send({ error: 'Record not found' });\r\n  },\r\n\r\n  deleteIntervention(req, res) {\r\n    const { foundRecord } = recordObject.findOneRecord(req.params.id);\r\n    if (!foundRecord) {\r\n      res.status(404).send({ error: 'Record not found' });\r\n    } else {\r\n      recordObject.deleteRecord(req.params.id)\r\n      res.status(200).send({ data: [{ id: Number(req.params.id), message: 'intervention record has been deleted' }] })\r\n    }\r\n  }\r\n};\r\n\r\nexport default recordControllers;\r\n"]}